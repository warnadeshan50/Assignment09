<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Assignment09</title>
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
<section id="lgts">
    <div class="blb"></div>
    <div class="blb"></div>
    <div class="blb"></div>
    <div class="blb"></div>
    <div class="blb"></div>
    <div class="blb"></div>
    <div class="blb"></div>
    <div class="blb"></div>
    <div class="blb"></div>
    <div class="blb"></div>
</section>
<section id="btns">
    <button>Start</button>
    <button>Stop</button>
    <audio id="audio" src="./assets/audio/audio.mp3"></audio>
</section>
</body>
<script src="assets/lib/jquery.min.js"></script>
<script>
    var style={background: "white"}
    var style2={background: "red"}
    var style_1={background: "#FF6666"}
    let current=0;
    let direction="right"
    let count=10;
    let interval=null;

    function lights(){
        $('.blb').eq(current).css(style2);
        $('.blb').eq(current+1).css(style_1);
        $('.blb').eq(current-1).css(style_1);
    }
    function lights2(){
        if(current>=0){
            $('.light').eq(current-1).css(style_1);
        }
        $('.light').eq(current+1).css(style_1);
    }
    const myFuction =()=> {
        $(".blb").css(style);
        if(direction==="right"){
            current++;
            lights();
            if(current===count>=0) {
                lights()
            }
            if (current===count-1){
                direction="left";
            }
        }else{
            current--;
            lights();
            if(current===1) {
                $('.blb').eq(current).css(style2);
            }
            if(current===0){
                direction="right"
            }
        }
    }
    $('button').eq(0).on('click',()=>{
       if(interval===null){
           interval=setInterval(myFuction,40);
           $('#audio')[0].play();
       }
    });

    $('button').eq(1).on('click',()=>{
            clearInterval(interval);
            interval=null;
        $('#audio')[0].pause();
    });
</script>
</html>